import{n as f,P as h,r as t,x as d,j as s,C as j,J as g}from"./index-1282e87c.js";import{u as w,c as b,a as m}from"./index.esm-ca37ee4d.js";import{S as v}from"./Spinner-188b2ae9.js";import{R as S}from"./Row-5a9fd9b5.js";import{C}from"./Col-46511ea1.js";import{C as i}from"./Card-2fa0d696.js";const R=()=>{const l=f(),[c,{isSuccess:a,isError:n,isLoading:p,error:u}]=h(),e=w({initialValues:{email:"",password:""},validationSchema:b({email:m().required("Enter email"),password:m().required("Enter password")}),onSubmit:(r,{resetForm:x})=>{c(r),x()}}),o=r=>g({"form-control my-2":!0,"is-invalid":e.touched[r]&&e.errors[r],"is-valid":e.touched[r]&&!e.errors[r]});return t.useEffect(()=>{a&&(d.success("admin login success"),l("/admin"))},[a]),t.useEffect(()=>{n&&d.error(u.data.message||"something went wrong")},[n]),p?s.jsxs(s.Fragment,{children:["Please Wait...  ",s.jsx(v,{})]}):s.jsx(s.Fragment,{children:s.jsx(j,{children:s.jsx(S,{children:s.jsx(C,{sm:{span:6,offset:3},children:s.jsxs(i,{children:[s.jsx(i.Header,{children:"Admin Login"}),s.jsx(i.Body,{children:s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsxs("div",{children:[s.jsx("input",{type:"email",...e.getFieldProps("email"),className:o("email")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.email})]}),s.jsxs("div",{children:[s.jsx("input",{type:"password",...e.getFieldProps("password"),className:o("password")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.password})]}),s.jsx("button",{className:"btn btn-dark",type:"submit",children:"Login"})]})})]})})})})})};export{R as default};
