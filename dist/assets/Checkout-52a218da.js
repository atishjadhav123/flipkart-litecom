import{h as f,l as v,a0 as y,n as g,r as o,o as b,j as e,C as a,a1 as N,J as C}from"./index-1282e87c.js";import{u as S,c as w,a as i}from"./index.esm-ca37ee4d.js";import{F as t}from"./Form-d1b20b89.js";import{O as F}from"./OrderSummery-ddbd54d6.js";import{S as E}from"./Spinner-188b2ae9.js";import{F as m}from"./FormControl-a3986128.js";import"./ElementChildren-835dab8e.js";import"./Col-46511ea1.js";const X=()=>{const h=f(),{cart:c}=v(r=>r.bag),[p,{isSuccess:d,isLoading:x}]=y(),l=g(),s=S({initialValues:{address:"",city:"",payment:""},validationSchema:w({address:i().required("Enter address"),city:i().required("Enter city"),payment:i().required("Choose payment")}),onSubmit:(r,{resetForm:u})=>{p({...r,products:c.map(j=>j._id)}),u()}}),n=r=>C({"form-control my-2":!0,"is-invalid":s.touched[r]&&s.errors[r],"is-valid":s.touched[r]&&!s.errors[r]});return o.useEffect(()=>{c.length===0&&l("/")},[]),o.useEffect(()=>{d&&(h(b()),l("/success"))},[d]),x?e.jsxs("div",{children:["please wait ... ",e.jsx(E,{})]}):e.jsx(a,{children:e.jsx("form",{onSubmit:s.handleSubmit,children:e.jsxs("div",{className:"d-flex justify-content-between gap-5 ",children:[e.jsx(a,{className:"bg-light ",children:e.jsx("div",{className:"row py-4",children:e.jsxs("div",{children:[e.jsx(m,{...s.getFieldProps("address"),className:n("address"),placeholder:"Enter Address"}),e.jsx(m,{...s.getFieldProps("city"),className:n("city"),placeholder:"Enter City"}),e.jsx(t.Check,{...s.getFieldProps("payment"),type:"radio",name:"payment",id:"cod",value:"cod",label:"COD"}),e.jsx(t.Check,{...s.getFieldProps("payment"),type:"radio",name:"payment",id:"online",value:"online",label:"ONLINE"})]})})}),e.jsxs(a,{className:"mx-0",children:[e.jsx("h5",{className:"mt-3",children:"Order Summary"}),e.jsxs("div",{class:"card w-75",children:[e.jsx("div",{class:"card-header d-flex",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-end container",children:[e.jsx("div",{children:e.jsx("img",{src:"https://media.istockphoto.com/id/483960103/photo/blank-black-t-shirt-front-with-clipping-path.jpg?s=612x612&w=0&k=20&c=d8qlXILMYhugXGw6zX7Jer2SLPrLPORfsDsfRDWc-50=",alt:"",height:200,width:200})}),e.jsxs("div",{children:[e.jsx("p",{children:"Basic Tee"}),e.jsx("p",{children:"Black"}),e.jsx("p",{className:"mb-5",children:"Large"}),e.jsx("p",{className:"mt-2",children:"$32.00"})]}),e.jsxs("div",{children:[e.jsx("span",{children:e.jsx(N,{})}),e.jsxs(t.Select,{className:"form-select-sm",children:[e.jsx("option",{selected:!0,value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3"})]})]})]})}),e.jsx("div",{class:"card-body",children:e.jsx(F,{showCheckout:!1})}),e.jsx("div",{class:"card-footer",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Confirm Order"})})]})]})]})})})};export{X as default};
